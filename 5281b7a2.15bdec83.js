(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{148:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return b})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return s}));var r=a(2),n=a(9),c=(a(0),a(165)),o={id:"architecture",title:"Architecture"},b={id:"architecture",title:"Architecture",description:"The following diagram demonstrates the overall cluster design which will be implemented via the Ansible automation if you follow the above guide.",source:"@site/docs/architecture.md",permalink:"/docs/architecture",editUrl:"https://github.com/raspbernetes/docs/edit/master/website/docs/architecture.md",sidebar:"someSidebar",previous:{title:"Configuration",permalink:"/docs/configuration"},next:{title:"CIS Benchmark",permalink:"/docs/cis-benchmark"}},i=[{value:"Network topology",id:"network-topology",children:[]}],l={rightToc:i};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"The following diagram demonstrates the overall cluster design which will be implemented via the Ansible automation if you follow the above guide."),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"To obtain a highly available Kubernetes cluster we've chosen to use the ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/ha-topology/#stacked-etcd-topology"}),"stacked etcd toplogy"),". This is the default configuration as the ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/ha-topology/#external-etcd-topology"}),"external etcd cluster")," alternative requires additional compute resources.")),Object(c.b)("p",null,Object(c.b)("img",Object(r.a)({parentName:"p"},{src:"https://github.com/raspbernetes/k8s-cluster-installation/blob/master/docs/images/raspbernetes-cluster-design.png",alt:"cluster-design"}))),Object(c.b)("h2",{id:"network-topology"},"Network topology"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"IP"),Object(c.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Function"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"192.168.1.1"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"Router")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"192.168.1.121"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"master (k8s-master-01)")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"192.168.1.122"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"master (k8s-master-02)")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"192.168.1.123"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"master (k8s-master-03)")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"192.168.1.131"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"worker (k8s-worker-01)")))))}s.isMDXComponent=!0}}]);